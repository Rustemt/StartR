@model IEnumerable<StartR.Domain.Client>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "create", "client")
</p>
<table id="Clients">
</table>

@section scripts
{
    <script type="text/javascript">
        
        $(document).ready(function () {
            $.getJSON('/api/clients', function (response) {
                var html = '';

                $.each(response, function (idx, d) {                    
                    html += '<tr>';
                    html += '<td>' + d.firstName + '</td>';
                    html += '<td><a href=\'/home/delete/' + d.id + '\'>Delete</a> | <a href=\'/client/details/' + d.id + '\'>View Client</a> </td>';
                    html += '</tr>';
                });
                $('#Clients').append(html);
            });
            
        });
    </script>
}